(this["webpackJsonppolttoaine-saa-frontend"]=this["webpackJsonppolttoaine-saa-frontend"]||[]).push([[0],{132:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),c=n(62),o=n.n(c),u=(n(132),n(69)),i=n(111),s=n(108),l=n(87),d=n(112),f=n(110),j=n(86),b=n(109),p=n(92),h=n(8),O=n(91),w=n(72),v=n(51),g=n(68),m=n(107),x=n(55),F=n(60),y=n(101),k=n.n(y),S=n(172),C={Ysi5:"95",Ysi8:"98",Diesel:"Diesel"},E=n(38),L=function(e){return Object(E.jsx)("div",{id:"fuelSelector",children:Object.keys(C).map((function(t){return Object(E.jsx)(S.a,{color:e.selectedFuel===t?"primary":"default",variant:"contained",onClick:function(){return e.updateSelectedFuel(t)},children:C[t]},t)}))})},Y=(n(156),function(e,t){return e.map((function(e){var n=new w.a(new v.a(Object(h.d)(e.coordinates)));return n.setProperties({value:e.prices[t]}),n}))}),z=function(){var e=Object(a.useRef)({});Object(a.useEffect)((function(){e.current=new s.a({target:"map",view:new l.a({center:Object(h.d)([24.75,60.2]),zoom:12.5}),layers:[new d.a({source:new b.a})]})}),[]);var t=Object(a.useState)({loading:!0,stations:[],selectedFuel:"Ysi5"}),n=Object(i.a)(t,2),r=n[0],c=n[1];Object(a.useEffect)((function(){k()({method:"get",url:"".concat("https://9zydnie5l1.execute-api.eu-central-1.amazonaws.com/dev","/stations"),headers:{"x-api-key":"p3PJrCasiI3xxlGusOSkY9BzaaYoay3M8Nhy9geS"}}).then((function(e){return c((function(t){return Object(u.a)(Object(u.a)({},t),{},{loading:!1,stations:e.data})}))}))}),[]),Object(a.useEffect)((function(){if(!r.loading){e.current.getLayers().forEach((function(t,n){0!==n&&e.current.removeLayer(t)}));var t=new p.a({format:new O.a,loader:function(){t.addFeatures(Y(r.stations,r.selectedFuel))}});e.current.addLayer(new f.a({source:t,weight:function(e){return function(e,t){return 10*(e.get("value")-("Diesel"===t?1.4:1.5))}(e,r.selectedFuel)},blur:250,radius:125}));var n=new p.a({format:new O.a,loader:function(){n.addFeatures(function(e,t){var n=Y(e,t);return n.forEach((function(e){return e.setStyle(new g.b({text:new m.a({font:"20px Helvetica",fill:new x.a({color:"#fff"}),stroke:new F.a({color:"#000"}),text:e.get("value").toString(),overflow:!0})}))})),n}(r.stations,r.selectedFuel))}});e.current.addLayer(new j.a({source:n}))}}),[r]);return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)("div",{id:"map",className:"map"}),Object(E.jsx)(L,{updateSelectedFuel:function(e){e!==r.selectedFuel&&c((function(t){return Object(u.a)(Object(u.a)({},t),{},{selectedFuel:e})}))},selectedFuel:r.selectedFuel}),Object(E.jsxs)("div",{id:"createdby",children:[Object(E.jsx)("span",{children:"Created by Markus Tyrkk\xf6 - "}),Object(E.jsx)("a",{id:"sourcecode",href:"https://github.com/Marcholio/polttoaine-saa-frontend",target:"_blank",rel:"noreferrer",children:"Source code"})]})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,173)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(z,{})}),document.getElementById("root")),D()}},[[157,1,2]]]);
//# sourceMappingURL=main.bdb5e7b9.chunk.js.map